<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
</head>
<body>
    <div>first div</div>
  <div>second div</div>
  <div class="empty"></div>
  <div>third div
      <div>inner div</div></div>
  <ul id="result"></ul>
  <script>
      var divs = document.body.getElementsByTagName('div');
      var ulResult = document.getElementById('result');

      for (var i in divs) {
          var li = document.createElement('li');
          if (divs[i].textContent) {
              li.innerHTML = divs[i].textContent.replace('\n', '</br>');
              ulResult.appendChild(li);
          }
      }

  </script>

</body>
</html>
